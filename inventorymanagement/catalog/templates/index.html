{% extends "base_generic.html" %}

{% block content %}


<div class=" w-full mb-20 py-6">

  <div class="w-full lg:w-1/2  mb-6 lg:mb-0 py-5">
    <h1 class="sm:text-3xl text-2xl font-medium title-font mb-2 text-gray-900">Últimos movimientos de inventario</h1>
    <div class="h-1 w-20 bg-indigo-500 rounded"></div>
  </div>

<div class="shadow overflow-hidden border-b border-gray-200 sm:rounded-lg overflow-x-auto  ">
  <table class="min-w-full divide-y divide-gray-200 overflow-x-auto ">
    <thead class="bg-gray-50">
    <tr>
      <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Descripción</th>
      <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Fecha / Hora</th>
      <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Cantidad</th>
      <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Operación</th>
      <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Usuario</th>
      <th scope="col" class="relative px-6 py-3">
        <span class="sr-only">Editar</span>
      </th>
    </tr>
    </thead>
    <tbody class="bg-white divide-y divide-gray-200">

    <tr>
      {% for history in object_list %}
      <td class="px-6 py-4 whitespace-nowrap">
        <div class="flex items-center">
          <div class="ml-4">
            <div class="text-sm font-medium text-gray-900">{{history.material}}</div>
          </div>
        </div>
      </td>
      <td class="px-6 py-4 whitespace-nowrap">
        <div class="flex items-center">
          <div class="ml-4">
            <div class="text-sm font-medium text-gray-900">{{history.date}}</div>
          </div>
        </div>
      </td>
      <td class="px-6 py-4 whitespace-nowrap">
        <div class="text-sm text-gray-900">{{ history.quantity }}</div>
      </td>
      <td class="px-6 py-4 whitespace-nowrap">
        <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full {% if history.operation == "e" %} bg-green-100 text-green-800 {% else %} bg-red-100 text-red-800 {% endif %} "> {% if history.operation == "e" %} Entrada {% else %} Salida {% endif %} </span>
      </td>
      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{ history.user }}</td>

    </tr>
    {% endfor %}
    </tbody>
  </table>
</div>

  <div class="lg:w-1/2 w-full mb-6 lg:mb-0 py-5">
    <h1 class="sm:text-3xl text-2xl font-medium title-font mb-2 text-gray-900">Alarmas de inventario</h1>
    <div class="h-1 w-20 bg-indigo-500 rounded"></div>
  </div>

  <div class="shadow overflow-auto border-b border-gray-200 sm:rounded-lg  ">
    <table class="min-w-full divide-y divide-gray-200 overflow-x-auto ">
      <thead class="bg-gray-50">
      <tr>
        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Descripción</th>
        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Stock</th>
        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Stock seguridad</th>
        <th scope="col" class="relative px-6 py-3">
          <span class="sr-only">Editar</span>
        </th>
      </tr>
      </thead>
      <tbody class="bg-white divide-y divide-gray-200">

      <tr>
        {% for alarm in alarms %}
        <td class="px-6 py-4 whitespace-nowrap">
          <div class="flex items-center">
            <div class="ml-4">
              <div class="text-sm font-medium text-gray-900">{{alarm.description}}</div>
            </div>
          </div>
        </td>
        <td class="px-6 py-4 whitespace-nowrap">
          <div class="flex items-center">
            <div class="ml-4">
              <div class="text-sm font-medium text-gray-900">{{alarm.stock}}</div>
            </div>
          </div>
        </td>
        <td class="px-6 py-4 whitespace-nowrap">
          <div class="text-sm text-gray-900">{{ alarm.safety_stock }}</div>
        </td>

      </tr>
      {% endfor %}
      </tbody>
    </table>
  </div>




</div>




{% endblock %}